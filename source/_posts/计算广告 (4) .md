---
title: 计算广告 - 点击率模型
date: 2022-04-03 10:42:31
tags: 
- 智慧营销
categories: 
- 学习
- 智慧营销
---



### 点击率模型的必要性

不考虑时间、位置等一系列因素，绝对的点击率没有意义。

那能不能再换一个思路，找到一些影响点击率的一些关健因素，对这些因素分别统计？这实际上已经产生了“特征”这样的建模思路了。

比如说，广告位是一个因素，广告本身是一个因素，用户的性别是一个因素，在每个因素上分别统计点击率，从数据充分性上是可行的。

不过这又产生了一个新的问题：我知道了男性用户的平均点击率、广告位S平均点击率、某广告A的平均点击率，那么如何评估某男性用户在广告位S上看到广告A的点击率呢？直觉的方法，是求上面三个点击率的几何平均。不过这里面有一个隐含的假设：**即这三个因素是相互独立的**。然而当特征多起来以后，这样的**独立性假设是很难保证的。**

<!-- more -->

### 怎样建立点击率模型

我们把点击事件 h 看成一个二元取值的随机变量，那么其取值为真（h=1）的概率就是点击率。

因此，点击事件的分布可以写成以点击率 µ为参数的二项分布（binomial distribution）：

<img src="https://cdn.jsdelivr.net/gh/yoon286/Pic@main/img/202204041125269.png" alt="image-20220404112540712" style="zoom:67%;" />

 而点击率预测模型的作用是在（a，u，c）组合与点击的概率µ之间建立函数关系，这可以表示成对µ（a，u，c）=p（h=1|a，u，c）的概率建模问题。

#### 逻辑回归模型+特征工程

对µ（a，u，c）=p（h=1|a，u，c）的概率建模问题，可以很自然地想到的基础模型是逻辑回归（Logistic Regression，LR）

![image-20220404121004573](https://cdn.jsdelivr.net/gh/yoon286/Pic@main/img/202204041210773.png)

其中 x 表示（a，u，c）组合上的特征矢量，即前面介绍过的受众定向的输出及其派生的其他特征；w 为各特征的加权系数，也就是此模型需要优化的参数；从方法上看，LR是利用线性函数来解决非线性目标，也属于广义线性模型。

#### FM+GBDT融合

第一步当然也是基于大规模稀疏特征LR。

第二步，为了更好的刻画长尾，自动发现组合特征，采用了FM。在同样的训练时间下，AUC提升，模型泛化性能可控。

第三步：为了更好的fine tuning头部和提升时效性，采用了用gbdt加动态特征的模型。最后呢，把这两个模型简单的做线性融合，由于俩个模型的特征和模型差异性较大，融合后auc也有显著的提升。

